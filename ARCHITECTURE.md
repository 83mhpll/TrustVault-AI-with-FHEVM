# 🏗️ TrustVault AI Architecture

## System Architecture Overview

```
┌─────────────────────────────────────────────────────────────────┐
│                    TrustVault AI Platform                      │
├─────────────────────────────────────────────────────────────────┤
│  Frontend (React + Vite)                                       │
│  ┌─────────────────┐ ┌─────────────────┐ ┌─────────────────┐  │
│  │   User Interface │ │  Wallet Connect │ │   AI Analytics │  │
│  │   (Rating UI)    │ │   (RainbowKit)  │ │   (OpenAI API) │  │
│  └─────────────────┘ └─────────────────┘ └─────────────────┘  │
├─────────────────────────────────────────────────────────────────┤
│  Blockchain Layer (Ethereum Sepolia + FHEVM)                   │
│  ┌─────────────────┐ ┌─────────────────┐ ┌─────────────────┐  │
│  │  RatingFactory  │ │   RatingItem    │ │   FHEVM Core    │  │
│  │  (0x45Fba25A...)│ │  (0xFA6A70E...) │ │  (Zama FHEVM)   │  │
│  └─────────────────┘ └─────────────────┘ └─────────────────┘  │
├─────────────────────────────────────────────────────────────────┤
│  Privacy Layer (FHEVM Encryption)                              │
│  ┌─────────────────┐ ┌─────────────────┐ ┌─────────────────┐  │
│  │  Encrypted Data │ │  Zero-Knowledge │ │  Client-Side    │  │
│  │  (euint32)      │ │  Processing     │ │  Decryption     │  │
│  └─────────────────┘ └─────────────────┘ └─────────────────┘  │
└─────────────────────────────────────────────────────────────────┘
```

## Data Flow Architecture

```
User Rating (1-5 stars)
         ↓
┌─────────────────────────────────────────────────────────────────┐
│  FHEVM Encryption Process                                       │
│  ┌─────────────────┐ ┌─────────────────┐ ┌─────────────────┐  │
│  │  User Input     │ │  FHEVM Encrypt  │ │  Encrypted      │  │
│  │  (Plaintext)    │ │  (euint32)      │ │  Storage        │  │
│  └─────────────────┘ └─────────────────┘ └─────────────────┘  │
└─────────────────────────────────────────────────────────────────┘
         ↓
┌─────────────────────────────────────────────────────────────────┐
│  Blockchain Storage (Sepolia)                                  │
│  ┌─────────────────┐ ┌─────────────────┐ ┌─────────────────┐  │
│  │  Encrypted Sum   │ │  Encrypted      │ │  Smart Contract │  │
│  │  (euint32)       │ │  Count (euint32)│ │  Logic          │  │
│  └─────────────────┘ └─────────────────┘ └─────────────────┘  │
└─────────────────────────────────────────────────────────────────┘
         ↓
┌─────────────────────────────────────────────────────────────────┐
│  Aggregation & Decryption                                      │
│  ┌─────────────────┐ ┌─────────────────┐ ┌─────────────────┐  │
│  │  FHEVM Compute   │ │  Client-Side    │ │  Public Average │  │
│  │  (Encrypted)     │ │  Decryption     │ │  (Plaintext)    │  │
│  └─────────────────┘ └─────────────────┘ └─────────────────┘  │
└─────────────────────────────────────────────────────────────────┘
```

## FHEVM Privacy Architecture

```
┌─────────────────────────────────────────────────────────────────┐
│  Traditional Rating System (❌ No Privacy)                       │
│  ┌─────────────────┐ ┌─────────────────┐ ┌─────────────────┐  │
│  │  User Rating    │ │  Visible to All │ │  Platform       │  │
│  │  (Plaintext)    │ │  (No Privacy)   │ │  Can See Data   │  │
│  └─────────────────┘ └─────────────────┘ └─────────────────┘  │
└─────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────┐
│  TrustVault AI with FHEVM (✅ Full Privacy)                    │
│  ┌─────────────────┐ ┌─────────────────┐ ┌─────────────────┐  │
│  │  User Rating    │ │  FHEVM Encrypt  │ │  Zero-Knowledge │  │
│  │  (Encrypted)    │ │  (euint32)      │ │  Processing     │  │
│  └─────────────────┘ └─────────────────┘ └─────────────────┘  │
│  ┌─────────────────┐ ┌─────────────────┐ ┌─────────────────┐  │
│  │  Only Aggregates│ │  Client-Side    │ │  No Individual  │  │
│  │  Can Be Revealed│ │  Decryption     │ │  Data Access    │  │
│  └─────────────────┘ └─────────────────┘ └─────────────────┘  │
└─────────────────────────────────────────────────────────────────┘
```

## Technology Stack Architecture

```
┌─────────────────────────────────────────────────────────────────┐
│  Frontend Layer                                                 │
│  ┌─────────────────┐ ┌─────────────────┐ ┌─────────────────┐  │
│  │  React + Vite   │ │  TypeScript     │ │  Tailwind CSS   │  │
│  │  (UI Framework) │ │  (Type Safety)   │ │  (Styling)      │  │
│  └─────────────────┘ └─────────────────┘ └─────────────────┘  │
├─────────────────────────────────────────────────────────────────┤
│  Wallet Integration                                            │
│  ┌─────────────────┐ ┌─────────────────┐ ┌─────────────────┐  │
│  │  RainbowKit     │ │  Wagmi          │ │  MetaMask       │  │
│  │  (Wallet UI)    │ │  (Ethereum)     │ │  (Wallet)       │  │
│  └─────────────────┘ └─────────────────┘ └─────────────────┘  │
├─────────────────────────────────────────────────────────────────┤
│  Blockchain Layer                                              │
│  ┌─────────────────┐ ┌─────────────────┐ ┌─────────────────┐  │
│  │  Ethereum       │ │  Sepolia        │ │  FHEVM          │  │
│  │  (Mainnet)      │ │  (Testnet)      │ │  (Zama)         │  │
│  └─────────────────┘ └─────────────────┘ └─────────────────┘  │
├─────────────────────────────────────────────────────────────────┤
│  AI Integration                                                 │
│  ┌─────────────────┐ ┌─────────────────┐ ┌─────────────────┐  │
│  │  OpenAI API     │ │  GPT-4          │ │  Analytics      │  │
│  │  (AI Service)   │ │  (AI Model)     │ │  (Insights)     │  │
│  └─────────────────┘ └─────────────────┘ └─────────────────┘  │
└─────────────────────────────────────────────────────────────────┘
```

## Security Architecture

```
┌─────────────────────────────────────────────────────────────────┐
│  Security Layers                                                │
│  ┌─────────────────┐ ┌─────────────────┐ ┌─────────────────┐  │
│  │  FHEVM          │ │  Smart Contract │ │  Client-Side    │  │
│  │  Encryption     │ │  Access Control │ │  Decryption     │  │
│  └─────────────────┘ └─────────────────┘ └─────────────────┘  │
│  ┌─────────────────┐ ┌─────────────────┐ ┌─────────────────┐  │
│  │  Zero-Knowledge │ │  No Data        │ │  User Control   │  │
│  │  Processing     │ │  Leakage        │ │  Over Keys      │  │
│  └─────────────────┘ └─────────────────┘ └─────────────────┘  │
└─────────────────────────────────────────────────────────────────┘
```

## Deployment Architecture

```
┌─────────────────────────────────────────────────────────────────┐
│  Production Deployment                                          │
│  ┌─────────────────┐ ┌─────────────────┐ ┌─────────────────┐  │
│  │  Vercel         │ │  GitHub         │ │  Sepolia        │  │
│  │  (Frontend)     │ │  (Source Code)  │ │  (Smart Contracts)│  │
│  └─────────────────┘ └─────────────────┘ └─────────────────┘  │
├─────────────────────────────────────────────────────────────────┤
│  Development Environment                                       │
│  ┌─────────────────┐ ┌─────────────────┐ ┌─────────────────┐  │
│  │  Localhost      │ │  Hardhat        │ │  Testing        │  │
│  │  (Development)  │ │  (Framework)    │ │  (Unit Tests)    │  │
│  └─────────────────┘ └─────────────────┘ └─────────────────┘  │
└─────────────────────────────────────────────────────────────────┘
```

## Key Features Architecture

```
┌─────────────────────────────────────────────────────────────────┐
│  Core Features                                                 │
│  ┌─────────────────┐ ┌─────────────────┐ ┌─────────────────┐  │
│  │  Private Rating │ │  AI Analytics   │ │  Model Catalog  │  │
│  │  (FHEVM)        │ │  (OpenAI)       │ │  (Database)     │  │
│  └─────────────────┘ └─────────────────┘ └─────────────────┘  │
│  ┌─────────────────┐ ┌─────────────────┐ ┌─────────────────┐  │
│  │  Revenue Model  │ │  Enterprise     │ │  Mobile Support │  │
│  │  (Fees)         │ │  Solutions      │ │  (PWA)          │  │
│  └─────────────────┘ └─────────────────┘ └─────────────────┘  │
└─────────────────────────────────────────────────────────────────┘
```

## Privacy Guarantees

```
┌─────────────────────────────────────────────────────────────────┐
│  What IS Visible (Public)                                      │
│  ┌─────────────────┐ ┌─────────────────┐ ┌─────────────────┐  │
│  │  Model Names    │ │  Aggregated     │ │  Total Count    │  │
│  │  (Public Info)  │ │  Averages       │ │  (Public)       │  │
│  └─────────────────┘ └─────────────────┘ └─────────────────┘  │
└─────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────┐
│  What IS NOT Visible (Private)                                 │
│  ┌─────────────────┐ ┌─────────────────┐ ┌─────────────────┐  │
│  │  Individual     │ │  User Identity  │ │  Rating History │  │
│  │  Ratings        │ │  (Anonymous)    │ │  (Private)      │  │
│  └─────────────────┘ └─────────────────┘ └─────────────────┘  │
│  ┌─────────────────┐ ┌─────────────────┐ ┌─────────────────┐  │
│  │  Wallet         │ │  Personal       │ │  Any Individual │  │
│  │  Addresses      │ │  Data           │ │  Data           │  │
│  └─────────────────┘ └─────────────────┘ └─────────────────┘  │
└─────────────────────────────────────────────────────────────────┘
```

---

**Built with ❤️ using Zama FHEVM technology**

_TrustVault AI - Where Privacy Meets Innovation_
